(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n,o,c,r=a(0),s=a.n(r),l=a(69),m=a.n(l),u=a(5),i=a(2),p=function(){return s.a.createElement("div",{className:"jumbotron centered"},s.a.createElement("div",{className:"container"},s.a.createElement("i",{className:"fas fa-key fa-6x"}),s.a.createElement("h1",{className:"display-3"},"Group Chat App"),s.a.createElement("p",{className:"lead"},"Get to know your buddys better this lockdown!"),s.a.createElement("hr",null),s.a.createElement(u.b,{to:"/register"},s.a.createElement("button",{className:"btn btn-light btn-lg mx-5",type:"submit"},"Register")),s.a.createElement(u.b,{to:"/Login"},s.a.createElement("button",{className:"btn btn-light btn-lg mx-5",type:"submit"},"Login"))))},d=a(3),g=a(8),b=a.n(g),f=function(){var e=Object(i.e)(),t=Object(r.useState)(""),a=Object(d.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),l=Object(d.a)(c,2),m=l[0],u=l[1];return s.a.createElement("div",{className:"container mt-5"},s.a.createElement("h1",null,"Login"),s.a.createElement("div",{className:"row col-sm-8 card card-body"},s.a.createElement("form",{onSubmit:function(t){console.log("creating post req"),b.a.post("http://localhost:5000/login",{username:n,password:m}).then((function(t){console.log(t.status),console.log("successfully login",t.data),sessionStorage.setItem("auth-token",t.data),e.push("/Profile")})).catch((function(e){console.log("error",e.response.status)})),console.log(t),t.preventDefault()}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"text",className:"form-control",name:"username",value:n,onChange:function(e){return o(e.target.value)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",className:"form-control",name:"password",value:m,onChange:function(e){return u(e.target.value)}})),s.a.createElement("button",{className:"btn btn-dark",type:"submit"},"Login"))))},E=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(""),c=Object(d.a)(o,2),l=c[0],m=c[1],u=Object(i.e)();return s.a.createElement("div",{className:"container mt-5"},s.a.createElement("h1",null,"Register"),s.a.createElement("div",{className:"row col-sm-8 card card-body"},s.a.createElement("form",{onSubmit:function(e){var t={username:a,password:l};b.a.post("http://localhost:5000/register",t).then((function(e){console.log(e.status),console.log("successfully registered",e.data),u.push("/Login")})).catch((function(e){console.log("error",e.response)})),e.preventDefault()}},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:function(e){return n(e.target.value)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Password"),s.a.createElement("input",{type:"password",className:"form-control",name:"password",value:l,onChange:function(e){return m(e.target.value)}})),s.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Register"))))},h=a(71),v=function(){var e=Object(i.e)(),t=Object(r.useState)(""),a=Object(d.a)(t,2),n=a[0],o=a[1];b.a.defaults.headers.common["auth-token"]=sessionStorage.getItem("auth-token");return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"jumbotron centered"},s.a.createElement("h1",{className:"display-3"},"Welcome To ChatRoom"),s.a.createElement("p",{className:"secret-text"},"Create or join a room, and chat with your gang!"),s.a.createElement("form",{onSubmit:function(t){b.a.post("http://localhost:5000/join",{roomKey:n}).then((function(t){console.log(t.status),e.push("/Profile")})).catch((function(e){return console.log(e)})),t.preventDefault()}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control text-center joinCode",name:"secret",placeholder:"Please enter the room code to join...",value:n,onChange:function(e){return o(e.target.value)}}),s.a.createElement("button",{type:"submit",className:"btn btn-dark joinButton"},"Join"))),s.a.createElement("div",null,s.a.createElement("span",{className:"secret-text"},"Or create a room"),s.a.createElement("button",{className:"btn btn-dark",type:"submit",onClick:function(t){b.a.post("http://localhost:5000/create_room",{}).then((function(t){console.log(t.status),e.push("/Profile")})).catch((function(e){return console.log(e)})),t.preventDefault()}},"Create")),s.a.createElement("p",Object(h.a)({className:"secret-text"},"className","note"),s.a.createElement("span",null,"Note: "),"You can be in only one room at a time.")))},N=a(12),j=(a(99),a(72)),y=a.n(j),O=function(e){return s.a.createElement("div",{className:"input-group input-group-lg"},s.a.createElement("input",{type:"text",className:"form-control","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm",value:e.massage,onChange:function(t){return e.setMassage(t.target.value)},onKeyPress:function(t){return"Enter"===t.key?e.sendMassage(t):null}}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("span",{className:"input-group-text",id:"inputGroup-sizing-lg"},s.a.createElement("button",{className:"btn btn-dark",onClick:function(t){e.sendMassage(t)}},"Send"))))},x=a(73),S=a.n(x),k=(a(177),function(e){var t=!1,a=e.myName.trim().toLowerCase();return e.massage.user===a&&(t=!0),t?s.a.createElement("div",{style:{textAlign:"right"}},s.a.createElement("span",null,e.massage.text),s.a.createElement("hr",{className:"my-1 py-0"})):s.a.createElement("div",{style:{textAlign:"left"}},s.a.createElement("sup",null,s.a.createElement("span",{className:"badge badge-light"},e.massage.user)),s.a.createElement("span",null,e.massage.text),s.a.createElement("hr",{className:"my-1 py-0"}))}),w=(a(178),function(e){return s.a.createElement(S.a,null,e.massageList.map((function(t,a){return s.a.createElement("div",{className:"mail",key:a},s.a.createElement(k,{massage:t,myName:e.username}))})))}),C=function(e){var t=Object(r.useState)(""),a=Object(d.a)(t,2),l=a[0],m=a[1],u=Object(r.useState)([]),i=Object(d.a)(u,2),p=i[0],g=i[1],b=Object(r.useState)([]),f=Object(d.a)(b,2),E=f[0],h=f[1];Object(r.useEffect)((function(){return n=y()("localhost:5000"),o=e.username,c=e.roomid,n.emit("join",{name:o,room:c},(function(e){console.log(e)})),console.log(n),function(){n.emit("disconnect"),n.off()}}),["localhost:5000"]),Object(r.useEffect)((function(){n.on("active_users",(function(t){h([].concat(Object(N.a)(E),Object(N.a)(E))),e.setLiveUsers(E),g([].concat(Object(N.a)(p),[l]))})),n.on("add_active_user",(function(t){var a=t.name;h([].concat(Object(N.a)(E),[a])),e.setLiveUsers(E),console.log(E)})),n.on("massage",(function(e){g([].concat(Object(N.a)(p),[e]))})),n.on("notice",(function(e){console.log(e)}))}),[p,E]);return s.a.createElement("div",{className:"card text-center ChatBox-box"},s.a.createElement("div",{className:"card-header"},"Featured"),s.a.createElement("div",{className:"card-body"},s.a.createElement(w,{massageList:p,username:o})),s.a.createElement("div",{className:"card-footer"},s.a.createElement(O,{massage:l,setMassage:m,sendMassage:function(e){e.preventDefault(),""!==l&&n.emit("sendMassage",l,(function(){return m("")}))}})))},L=function(e){b.a.defaults.headers.common["auth-token"]=sessionStorage.getItem("auth-token");var t=Object(r.useState)([]),a=Object(d.a)(t,2),n=(a[0],a[1]),o=Object(r.useState)(!1),c=Object(d.a)(o,2),l=c[0],m=c[1],u=Object(r.useState)({}),p=Object(d.a)(u,2),g=p[0],f=p[1],E=Object(r.useState)([]),h=Object(d.a)(E,2),v=(h[0],h[1]),N=Object(r.useState)(""),j=Object(d.a)(N,2),y=(j[0],j[1],Object(i.e)());Object(r.useEffect)((function(){b.a.get("http://localhost:5000/profile").then((function(e){return console.log(e.data),e.data})).then((function(e){!function(e){console.log(e),v(e.notices),f(e),m(!0)}(e)})).catch((function(e){e&&console.log(e),y.push("/JoinOrCreate")}))}),[]);return l?s.a.createElement("div",{className:"jumbotron text-center py-4"},s.a.createElement("h1",{className:"head display-3  my-0 py-0"},"Welcome to chat-room"),s.a.createElement("p",null,"Room Code : ",g.room.room_id),s.a.createElement(C,{setLiveUsers:n,username:g.username,roomid:g.room.room_id})):s.a.createElement("h1",null,"Loading")},P=function(){return s.a.createElement(u.a,null,s.a.createElement(i.a,{path:"/",exact:!0,component:p}),s.a.createElement(i.a,{path:"/Profile",exact:!0,component:L}),s.a.createElement(i.a,{path:"/Login",component:f}),s.a.createElement(i.a,{path:"/Register",component:E}),s.a.createElement(i.a,{path:"/JoinOrCreate",component:v}))};m.a.render(s.a.createElement(P,null),document.getElementById("root"))},74:function(e,t,a){e.exports=a(179)},99:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.9f3ca55e.chunk.js.map